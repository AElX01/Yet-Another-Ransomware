# yetAnotherRansomware (YAR)

A C++ ransomware that targets Windows systems using the CNG (Cryptography API: Next Generation) API for Windows. It will encrypt recursively all files under the current user's directory.

## features

- Usage of AES-128-CBC for file encryption
- Securing the AES key by encrypting it with an RSA 2048 bit key (harcoded in the code)
- Usage of an http server that contains the private key to decrypt the AES key, then decrypt files, the server can be found in my repo: [cpp-simpleHttpServer](https://github.com/AElX01/cpp-simpleHttpServer/tree/master)

## usage

1. Clone the repository [cpp-simpleHtppServer](https://github.com/AElX01/cpp-simpleHttpServer/tree/master). The corresponding private key is there (or you could generate one using the Windows CNG API).

2. Clone the YAR repository and build the project in visual studio. The executable in this repo is intentionally left unusable out of the box for security reasons.

3. Run the executable generated by Visual Studio. It will start encrypting any folder specified in the **targetDir** variable, by default, the user's home.

4. Run the HTTP server required by the ransomware. It will generate a random 32 bytes number the ransomware will ask, it is meant to be a web address where the ransomware's private key is sent, the ransomware needs to connect to this address, once connected, it will decrypt everything in the target's directory.

> [!WARNING]
> Encryption happens very fast, DO NOT EXECUTE this malware if you have no idea about what you are doing. Do not restart your computer and DO NOT close the terminal. YAR will ask for the server's random address and that's it, if you loose the prompt, you may not be able to recover your files.
